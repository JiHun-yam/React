## 불변성

#불변성

### 불변성이란

```txt
메모리에 있는 값을 변경할수 없는 것을 말한다. JS의 데이터 형태중에 원시 데이터는 불변성이 
있고, 원시 데이터가 아닌 객체, 배열, 함수는 불변성이 없다 
```


### 리액트에 데이터의 불편성을 지키는게 왜 중요한지 

 리액트는 화면을 리레더링 할지 말지 결정할때 state가 변하면 리렌더링하고 변하지않으면
 리렌더링을 하지않는다  

 State가 변했는지 아닌지 확인은 State 변화, 후의 메모리 주소 를 비교한다 
 불변성을 지키지않고 직접 수정하면 값은 바꿔어지만 메모리주소는 변하지않아 리렌더링이
 일어나지 않는다 


###   **리액트 불변성 지키기 예시**
    
배열을 setState 할 때 불변성을 지켜주기 위해, 직접 수정을 가하지 않고 
전개 연산자( 스레드문법 )를 사용해서 기존의 값을 복사하고, 그 이후에 값을 
수정하는 식으로 구현해야한다 

```jsx 
import React, { useState } from "react";

function App() {
  const [dogs, setDogs] = useState(["말티즈"]);

  function onClickHandler() {
		// spread operator(전개 연산자)를 이용해서 dogs를 복사합니다. 
	  // 그리고 나서 항목을 추가합니다.
    setDogs([...dogs, "시고르자브르종"]);
  }

  console.log(dogs);
  return (
    <div>
      <button onClick={onClickHandler}>버튼</button>
    </div>
  );
}

export default App;
```

## 정리  리액트에서 렌더링이되는 조건은 state 값이 바뀌면 된다

## 순수함수 
#순수함수

### 순수함수개념
 하나 이상의 인자를 받고 인자를 변경하지 않고 참조하여 새로운 값을 반환하는 함수 
 즉 같은 input동일한 인지가 전달되면 항상 동일한 결과를 반환함수는 함수(코드블록)이다

- 순수함수 O
 
 ```js
 // 매개변수를 복사한 값을 변경하는 순수함수
  const addSixPure = (arr) => {
   // 펼침 연산자로 새로운 배열에 6 추가
    newArr = [...arr, 6]; 
    return newArr; 
    };
 
```

- 순수함수 X
  ``` js
  const num_arr = [1, 2, 3, 4, 5];
   // 매개변수의 값을 직접 변경하는 불순함수
    const addSixImpure = (arr) => {
     // 매개변수에 직접 6 추가 
     arr.push(6); 
     return arr;
      };
```


### React 에서 왜 순수함수를 배우냐  ? 
 1. 컴포넌트의 많은 루틴을 순수 함수로서 작성하기를 요구한다 
 
	 1-1. 컴포넌트에서 state와 props가 같으면, 항상 같은 값을 반환해야한다 
	 1-2 다른 side effects를 발생시키지않아야한다 (HTTP 요청, 데이터저장,쿠키조작등)
	 
 2. 컴포넌트의 상태값은 불변객체 로 관리해야만한다 

	2-1 수정할 때에는 기존 값을 변경하는 것이아니라,같은 이름의 새로운 객체를 생성한다.

 3. 이를 통해  Ul 개발의 복잡도를 낮추고, 버그 발생확률도 줄인다 
 
	+ 같은 입력에 대해 항상 같은 출력을 보장하니, 테스트 하기도 훨씬 수월하겠죠
  

